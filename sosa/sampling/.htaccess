DirectoryIndex index.html

RewriteEngine On
RewriteBase  /ns/sosa/sampling/


# Documents

<Files ~ "sosa-sampling\.rdf$">
    Header set Content-Type "application/rdf+xml"
    Header set Content-Disposition "inline; filename=sosa-sampling.rdf"
    Header set Content-Location "http://www.w3.org/ns/sosa/sampling/sosa-sampling.rdf" env=REDIRECT_redirect
</Files>

<Files ~ "sosa-sampling\.ttl$">
    Header set Content-Type "text/turtle"
    Header set Content-Disposition "inline; filename=sosa-sampling.ttl"
    Header set Content-Location "http://www.w3.org/ns/sosa/sampling/sosa-sampling.ttl" env=REDIRECT_redirect
</Files>


# Directory index

RewriteCond  %{REQUEST_URI}  /ns/sosa/sampling/$
RewriteCond %{HTTP_ACCEPT} !(application/rdf\+xml|text/html)
RewriteRule  ^(.*)$  /ns/sosa/sampling/sosa-sampling.ttl [env=redirect:1]

RewriteCond  %{REQUEST_URI}  /ns/sosa/sampling/$
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml
RewriteRule  ^(.*)$  /ns/sosa/sampling/sosa-sampling.rdf [env=redirect:1]

RewriteCond  %{REQUEST_URI}  /ns/sosa/sampling/$
RewriteCond %{HTTP_ACCEPT} text/html
RewriteRule  ^(.*)$  https://www.w3.org/TR/vocab-ssn/#Sample_Relations [R=303,NE,env=redirect:1]


# Resources

RewriteCond  %{REQUEST_URI}  /ns/sosa/sampling/(RelationshipNature|SampleRelationship|hasSampleRelationship|natureOfRelationship|relatedSample)
RewriteCond %{HTTP_ACCEPT} !(application/rdf\+xml|text/html)
RewriteRule  ^(.*)$  /ns/sosa/sampling/sosa-sampling.ttl [R=303,env=ttl:1]
Header always set Content-Type "text/turtle" env=ttl

RewriteCond  %{REQUEST_URI}  /ns/sosa/sampling/(RelationshipNature|SampleRelationship|hasSampleRelationship|natureOfRelationship|relatedSample)
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml
RewriteRule  ^(.*)$  /ns/sosa/sampling/sosa-sampling.rdf [R=303,env=rdf:1]
Header always set Content-Type "application/rdf+xml" env=rdf

RewriteCond  %{REQUEST_URI}  /ns/sosa/sampling/(RelationshipNature|SampleRelationship|hasSampleRelationship|natureOfRelationship|relatedSample)
RewriteCond %{HTTP_ACCEPT} text/html
RewriteRule  ^(.*)$  https://www.w3.org/TR/vocab-ssn/#SAMP$1 [R=303,NE,env=html:1]

Header always merge Vary "Accept" env=rdf
Header always merge Vary "Accept" env=ttl
Header always merge Vary "Accept" env=html